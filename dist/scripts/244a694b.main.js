"use strict";var DetailView=Backbone.View.extend({className:"detail-view",template:_.template($(".detail-view-template").text()),events:{"click .saveButton":"updateModel","click .newButton":"createPhoto"},initialize:function(){this.listenTo(photos,"add",function(a){new ThumbnailView({model:a})}),this.listenTo(this.model,"change",this.render),$(".editContainer").append(this.el),this.render()},render:function(){var a=this.template(this.model.attributes);return this.$el.html(a),this},updateModel:function(){var a=this;this.model.set({url:this.$el.find(".url-input").val(),comment:this.$el.find(".name-input").val()}),photos.add(this.model),this.model.save().done(function(){a.$el.find(".status").html("You Added A New Player!")})},createPhoto:function(){var a=new Photo;this.model=a,this.$el.find("input").val(""),this.$el.find("img").attr("src","http://placehold.it/370x300")}}),Photo=Backbone.Model.extend({idAttribute:"_id",defaults:{comment:"Go Red Sox",url:"http://content.sportslogos.net/logos/53/53/full/ba0u6pkfm7zmorlyyy00cx0os.gif"}}),PhotoCollection=Backbone.Collection.extend({model:Photo,url:"http://tiny-pizza-server.herokuapp.com/collections/Charliephoto"}),ThumbnailView=Backbone.View.extend({className:"thumbnail",thumbnailTemplate:_.template($(".thumbnail-template").text()),events:{click:"showDetailView"},initialize:function(){$(".thumbnailContainer").append(this.el),this.render()},render:function(){if(this.model.attributes.hasOwnProperty("url")){var a=this.thumbnailTemplate(this.model.attributes);this.$el.html(a)}},showDetailView:function(){detailViewInstance.remove(),detailViewInstance=new DetailView({model:this.model})}}),photos=new PhotoCollection,detailViewInstance;photos.fetch().done(function(){photos.each(function(a){new ThumbnailView({model:a})}),detailViewInstance=new DetailView({model:photos.first()})});